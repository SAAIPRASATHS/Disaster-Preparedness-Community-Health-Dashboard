@import url('https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&family=Inter:wght@400;500;600;700&display=swap');

:root {
  /* Premium Design Tokens */
  --primary: #2563EB;
  --primary-glow: rgba(37, 99, 235, 0.15);
  --secondary: #64748B;
  --dark: #0F172A;
  --surface: #F8FAFC;
  --glass: rgba(255, 255, 255, 0.7);
  --glass-border: rgba(255, 255, 255, 0.4);
  --glass-blur: blur(12px);

  --risk-high: #E11D48;
  --risk-medium: #D97706;
  --risk-low: #059669;
}

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    font-family: 'Inter', system-ui, -apple-system, sans-serif;
    @apply bg-slate-50 text-slate-900;
    background-image:
      radial-gradient(at 0% 0%, rgba(37, 99, 235, 0.03) 0px, transparent 50%),
      radial-gradient(at 100% 0%, rgba(99, 102, 241, 0.03) 0px, transparent 50%);
    background-attachment: fixed;
  }

  h1,
  h2,
  h3,
  h4,
  .font-premium {
    font-family: 'Outfit', sans-serif;
  }
}

@layer components {
  .glass-card {
    @apply bg-white/70 backdrop-blur-md border border-white/40 shadow-xl shadow-slate-200/50;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .glass-card:hover {
    @apply bg-white/80 border-white/60 shadow-2xl shadow-slate-300/60 -translate-y-1;
  }

  .premium-input {
    @apply bg-white/50 border border-slate-200 rounded-2xl px-5 py-3.5 transition-all duration-300;
    @apply focus:outline-none focus:ring-4 focus:ring-primary/10 focus:border-primary focus:bg-white;
  }

  .premium-button {
    @apply relative overflow-hidden px-7 py-3.5 rounded-2xl font-semibold transition-all duration-300;
    @apply active:scale-[0.97] disabled:opacity-50 disabled:cursor-not-allowed shadow-lg;
    background: linear-gradient(135deg, var(--primary) 0%, #1e40af 100%);
  }

  .premium-button:hover:not(:disabled) {
    @apply shadow-2xl translate-y-[-2px] brightness-110;
  }

  .premium-button::after {
    content: '';
    @apply absolute inset-0 bg-white/10 opacity-0 transition-opacity duration-300;
  }

  .premium-button:hover::after {
    @apply opacity-100;
  }
}

/* Scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  @apply bg-slate-100;
}

::-webkit-scrollbar-thumb {
  @apply bg-slate-200 rounded-full border-2 border-slate-100;
  transition: all 0.3s ease;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-primary/40;
}

/* Animations */
@keyframes shimmer {
  0% {
    background-position: -800px 0;
  }

  100% {
    background-position: 800px 0;
  }
}

.skeleton {
  background: linear-gradient(90deg, #f1f5f9 25%, #f8fafc 50%, #f1f5f9 75%);
  background-size: 800px 100%;
  animation: shimmer 1.5s infinite linear;
  @apply rounded-2xl;
}

@keyframes sosPulse {
  0% {
    box-shadow: 0 0 0 0 rgba(225, 29, 72, 0.4);
  }

  70% {
    box-shadow: 0 0 0 20px rgba(225, 29, 72, 0);
  }

  100% {
    box-shadow: 0 0 0 0 rgba(225, 29, 72, 0);
  }
}

.sos-pulse {
  animation: sosPulse 2s infinite;
}

/* Leaflet Customization */
.leaflet-container {
  @apply rounded-3xl overflow-hidden grayscale-[0.2] transition-all;
}

.leaflet-popup-content-wrapper {
  @apply glass-card p-0 !important;
  box-shadow: 0 10px 30px -5px rgba(0, 0, 0, 0.1) !important;
}

.leaflet-popup-content {
  @apply m-4 !important;
}

.leaflet-popup-tip {
  @apply bg-white/70 backdrop-blur-md !important;
}

/* Optimized Map Markers & Clusters */
.custom-map-marker-optimized {
  will-change: transform;
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
}

.marker-cluster {
  background-clip: padding-box;
  border-radius: 20px;
}

.marker-cluster div {
  width: 30px;
  height: 30px;
  margin-left: 5px;
  margin-top: 5px;
  text-align: center;
  border-radius: 15px;
  font-family: 'Outfit', sans-serif;
  font-weight: 800;
  font-size: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
}

.marker-cluster-small {
  background-color: rgba(37, 99, 235, 0.6);
}

.marker-cluster-small div {
  background-color: rgba(37, 99, 235, 0.9);
}

.marker-cluster-medium {
  background-color: rgba(37, 99, 235, 0.6);
}

.marker-cluster-medium div {
  background-color: rgba(37, 99, 235, 0.9);
}

.marker-cluster-large {
  background-color: rgba(37, 99, 235, 0.6);
}

.marker-cluster-large div {
  background-color: rgba(37, 99, 235, 0.9);
}